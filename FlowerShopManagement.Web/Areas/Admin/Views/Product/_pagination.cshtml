@using FlowerShopManagement.Web
@using FlowerShopManagement.Application.Models
@model PaginatedList<ProductModel>

@{
	var prevDisabled = !Model.HasPreviousPage ? "disabled" : "";
	var nextDisabled = !Model.HasNextPage ? "disabled" : "";
}

<div class="d-flex gap-3 w-100 justify-content-center mt-3">
	<button onclick="jQueryAjaxReloadViewAll('@(Url.Action("Sort", "Product",new {sortOrder = ViewData["CurrentSort"],pageNumber=(Model.PageIndex - 1),
                   currentFilter = ViewData["CurrentFilter"],currentCategory = ViewData["CurrentCategory"],currentPrice=ViewData["CurrentPrice"]  }))')"
			class="btn btn btn-no-min @prevDisabled">
		Previous
	</button>
	@if ((Model.PageIndex - 1) > 0)
	{
		<button onclick="jQueryAjaxReloadViewAll('@(Url.Action("Sort", "Product",new {sortOrder = ViewData["CurrentSort"],pageNumber=(Model.PageIndex-1),
                   currentFilter = ViewData["CurrentFilter"] ,currentCategory = ViewData["CurrentCategory"],currentPrice=ViewData["CurrentPrice"]}))')"
			class="btn btn-no-min ">
			@(Model.PageIndex - 1)
		</button>
	}


	<button onclick="jQueryAjaxReloadViewAll('@(Url.Action("Sort", "Product",new {sortOrder = ViewData["CurrentSort"],pageNumber=(Model.PageIndex),
                   currentFilter = ViewData["CurrentFilter"] ,currentCategory = ViewData["CurrentCategory"],currentPrice=ViewData["CurrentPrice"]}))')"
			class="btn btn-no-min focus">
		@Model.PageIndex
	</button>

	@*next page*@
	@if ((Model.PageIndex + 1) <= Model.TotalPages)
	{
		<button onclick="jQueryAjaxReloadViewAll('@(Url.Action("Sort", "Product",new {sortOrder = ViewData["CurrentSort"],pageNumber=(Model.PageIndex + 1),
                   currentFilter = ViewData["CurrentFilter"] ,currentCategory = ViewData["CurrentCategory"],currentPrice=ViewData["CurrentPrice"]}))')"
			class="btn btn-no-min ">
			@(Model.PageIndex + 1)
		</button>
	}
	@*... page*@
	@if (Model.TotalPages - (Model.PageIndex + 1) >= 1)
	{
		<button onclick="jQueryAjaxReloadViewAll('@(Url.Action("Sort", "Product",new {sortOrder = ViewData["CurrentSort"],pageNumber=(Model.PageIndex + 1),
                   currentFilter = ViewData["CurrentFilter"] ,currentCategory = ViewData["CurrentCategory"],currentPrice=ViewData["CurrentPrice"]}))')"
			class="btn btn-no-min disabled">
			...
		</button>
	}
	@*last page*@
	@if (Model.TotalPages - (Model.PageIndex + 1) >= 1)
	{
		<button onclick="jQueryAjaxReloadViewAll('@(Url.Action("Sort", "Product",new {sortOrder = ViewData["CurrentSort"],pageNumber=(Model.TotalPages),
                   currentFilter = ViewData["CurrentFilter"] ,currentCategory = ViewData["CurrentCategory"],currentPrice=ViewData["CurrentPrice"]}))')"
			class="btn btn-no-min ">
			@(Model.TotalPages)
		</button>
	}
	<button onclick="jQueryAjaxReloadViewAll('@(Url.Action("Sort", "Product",new {sortOrder = ViewData["CurrentSort"],pageNumber=(Model.PageIndex + 1),
                   currentFilter = ViewData["CurrentFilter"] ,currentCategory = ViewData["CurrentCategory"],currentPrice=ViewData["CurrentPrice"]}))')"
			class="btn btn-no-min @nextDisabled">
		Next
	</button>
</div>

